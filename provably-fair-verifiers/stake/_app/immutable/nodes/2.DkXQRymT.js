var Pa=Object.defineProperty;var Da=(r,e,t)=>e in r?Pa(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var K=(r,e,t)=>Da(r,typeof e!="symbol"?e+"":e,t);import{t as H,a as U,c as Br}from"../chunks/6Uv_r1iA.js";import{p as he}from"../chunks/CYcjL66w.js";import{v as G,y as Hr,am as qr,an as za,ao as Fa,m as Wr,F as Gr,n as rr,w as je,U as Ua,X as Ba,B as Ft,Y as Ha,g as u,J as qa,z as Wa,A as Cr,C as Qe,aa as Ga,D as Kr,ap as Ut,ae as Yr,_ as gt,aq as Er,O as Ka,ar as Ar,as as ar,at as Ya,ad as Ja,au as Xa,q as Qa,av as sr,aw as $a,a8 as es,a6 as ts,ax as Jr,a1 as Xr,ay as rs,az as as,aA as ss,aB as ns,aC as is,aD as os,E as ds,aE as cs,aF as ls,ag as nr,b as Nt,aG as us,aH as fs,o as We,a2 as Nr,a3 as Ir,a4 as hs,ah as ps,aI as ms,p as Be,j as S,s as O,k as x,t as Y,i as He,h as De,aj as vt,M as Qr,a as $r,N as be,al as q,aJ as Or}from"../chunks/eb9-O_3p.js";import{i as vs,c as _s,d as ea,a as gs,n as ys,b as bs,e as xs,f as ks,w as ws,l as ta,s as P}from"../chunks/CNivUBRO.js";import{p as Ss,i as ke,c as Rr}from"../chunks/_mX_LX_L.js";import{a as Ts,g as Cs}from"../chunks/BWakCEmZ.js";function Es(r,e,t){G&&Hr();var a=r,s=Ua,n,i=qr()?za:Fa;Wr(()=>{i(s,s=e())&&(n&&Gr(n),n=rr(()=>t(a)))}),G&&(a=je)}function Bt(r,e){return e}function As(r,e,t,a){for(var s=[],n=e.length,i=0;i<n;i++)Ya(e[i].e,s,!0);var o=n>0&&s.length===0&&t!==null;if(o){var l=t.parentNode;Ja(l),l.append(t),a.clear(),xe(r,e[0].prev,e[n-1].next)}Xa(s,()=>{for(var d=0;d<n;d++){var c=e[d];o||(a.delete(c.k),xe(r,c.prev,c.next)),Qa(c.e,!o)}})}function Ve(r,e,t,a,s,n=null){var i=r,o={flags:e,items:new Map,first:null},l=(e&Jr)!==0;if(l){var d=r;i=G?Ft(Ha(d)):d.appendChild(Ba())}G&&Hr();var c=null,h=!1,p=qa(()=>{var g=t();return ts(g)?g:g==null?[]:Yr(g)});Wr(()=>{var g=u(p),m=g.length;if(h&&m===0)return;h=m===0;let w=!1;if(G){var C=i.data===Wa;C!==(m===0)&&(i=Cr(),Ft(i),Qe(!1),w=!0)}if(G){for(var R=null,z,I=0;I<m;I++){if(je.nodeType===8&&je.data===Ga){i=je,w=!0,Qe(!1);break}var b=g[I],E=a(b,I);z=ra(je,o,R,null,b,E,I,s,e,t),o.items.set(E,z),R=z}m>0&&Ft(Cr())}G||Ns(g,o,i,s,e,a,t),n!==null&&(m===0?c?Kr(c):c=rr(()=>n(i)):c!==null&&Gr(c,()=>{c=null})),w&&Qe(!0),u(p)}),G&&(i=je)}function Ns(r,e,t,a,s,n,i){var Q,ue,re,Ze;var o=(s&rs)!==0,l=(s&(sr|ar))!==0,d=r.length,c=e.items,h=e.first,p=h,g,m=null,w,C=[],R=[],z,I,b,E;if(o)for(E=0;E<d;E+=1)z=r[E],I=n(z,E),b=c.get(I),b!==void 0&&((Q=b.a)==null||Q.measure(),(w??(w=new Set)).add(b));for(E=0;E<d;E+=1){if(z=r[E],I=n(z,E),b=c.get(I),b===void 0){var W=p?p.e.nodes_start:t;m=ra(W,e,m,m===null?e.first:m.next,z,I,E,a,s,i),c.set(I,m),C=[],R=[],p=m.next;continue}if(l&&Is(b,z,E,s),(b.e.f&Ut)!==0&&(Kr(b.e),o&&((ue=b.a)==null||ue.unfix(),(w??(w=new Set)).delete(b))),b!==p){if(g!==void 0&&g.has(b)){if(C.length<R.length){var D=R[0],y;m=D.prev;var j=C[0],T=C[C.length-1];for(y=0;y<C.length;y+=1)Zr(C[y],D,t);for(y=0;y<R.length;y+=1)g.delete(R[y]);xe(e,j.prev,T.next),xe(e,m,j),xe(e,T,D),p=D,m=T,E-=1,C=[],R=[]}else g.delete(b),Zr(b,p,t),xe(e,b.prev,b.next),xe(e,b,m===null?e.first:m.next),xe(e,m,b),m=b;continue}for(C=[],R=[];p!==null&&p.k!==I;)(p.e.f&Ut)===0&&(g??(g=new Set)).add(p),R.push(p),p=p.next;if(p===null)continue;b=p}C.push(b),m=b,p=b.next}if(p!==null||g!==void 0){for(var V=g===void 0?[]:Yr(g);p!==null;)(p.e.f&Ut)===0&&V.push(p),p=p.next;var F=V.length;if(F>0){var ge=(s&Jr)!==0&&d===0?t:null;if(o){for(E=0;E<F;E+=1)(re=V[E].a)==null||re.measure();for(E=0;E<F;E+=1)(Ze=V[E].a)==null||Ze.fix()}As(e,V,ge,c)}}o&&Xr(()=>{var ie;if(w!==void 0)for(b of w)(ie=b.a)==null||ie.apply()}),gt.first=e.first&&e.first.e,gt.last=m&&m.e}function Is(r,e,t,a){(a&sr)!==0&&Er(r.v,e),(a&ar)!==0?Er(r.i,t):r.i=t}function ra(r,e,t,a,s,n,i,o,l,d){var c=(l&sr)!==0,h=(l&$a)===0,p=c?h?Ka(s):Ar(s):s,g=(l&ar)===0?i:Ar(i),m={i:g,v:p,k:n,a:null,e:null,prev:t,next:a};try{return m.e=rr(()=>o(r,p,g,d),G),m.e.prev=t&&t.e,m.e.next=a&&a.e,t===null?e.first=m:(t.next=m,t.e.next=m.e),a!==null&&(a.prev=m,a.e.prev=m.e),m}finally{}}function Zr(r,e,t){for(var a=r.next?r.next.e.nodes_start:t,s=e?e.e.nodes_start:t,n=r.e.nodes_start;n!==a;){var i=es(n);s.before(n),n=i}}function xe(r,e,t){e===null?r.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}function aa(r){var e,t,a="";if(typeof r=="string"||typeof r=="number")a+=r;else if(typeof r=="object")if(Array.isArray(r)){var s=r.length;for(e=0;e<s;e++)r[e]&&(t=aa(r[e]))&&(a&&(a+=" "),a+=t)}else for(t in r)r[t]&&(a&&(a+=" "),a+=t);return a}function Os(){for(var r,e,t=0,a="",s=arguments.length;t<s;t++)(r=arguments[t])&&(e=aa(r))&&(a&&(a+=" "),a+=e);return a}function yt(r){return typeof r=="object"?Os(r):r??""}const jr=[...` 	
\r\fÂ \v\uFEFF`];function Rs(r,e,t){var a=r==null?"":""+r;if(t){for(var s in t)if(t[s])a=a?a+" "+s:s;else if(a.length)for(var n=s.length,i=0;(i=a.indexOf(s,i))>=0;){var o=i+n;(i===0||jr.includes(a[i-1]))&&(o===a.length||jr.includes(a[o]))?a=(i===0?"":a.substring(0,i))+a.substring(o+1):i=o}}return a===""?null:a}function Lr(r,e=!1){var t=e?" !important;":";",a="";for(var s in r){var n=r[s];n!=null&&n!==""&&(a+=" "+s+": "+n+t)}return a}function Ht(r){return r[0]!=="-"||r[1]!=="-"?r.toLowerCase():r}function Zs(r,e){if(e){var t="",a,s;if(Array.isArray(e)?(a=e[0],s=e[1]):a=e,r){r=String(r).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var n=!1,i=0,o=!1,l=[];a&&l.push(...Object.keys(a).map(Ht)),s&&l.push(...Object.keys(s).map(Ht));var d=0,c=-1;const w=r.length;for(var h=0;h<w;h++){var p=r[h];if(o?p==="/"&&r[h-1]==="*"&&(o=!1):n?n===p&&(n=!1):p==="/"&&r[h+1]==="*"?o=!0:p==='"'||p==="'"?n=p:p==="("?i++:p===")"&&i--,!o&&n===!1&&i===0){if(p===":"&&c===-1)c=h;else if(p===";"||h===w-1){if(c!==-1){var g=Ht(r.substring(d,c).trim());if(!l.includes(g)){p!==";"&&h++;var m=r.substring(d,h).trim();t+=" "+m+";"}}d=h+1,c=-1}}}}return a&&(t+=Lr(a)),s&&(t+=Lr(s,!0)),t=t.trim(),t===""?null:t}return r==null?null:String(r)}function bt(r,e,t,a,s,n){var i=r.__className;if(G||i!==t||i===void 0){var o=Rs(t,a,n);(!G||o!==r.getAttribute("class"))&&(o==null?r.removeAttribute("class"):e?r.className=o:r.setAttribute("class",o)),r.__className=t}else if(n&&s!==n)for(var l in n){var d=!!n[l];(s==null||d!==!!s[l])&&r.classList.toggle(l,d)}return n}function qt(r,e={},t,a){for(var s in t){var n=t[s];e[s]!==n&&(t[s]==null?r.style.removeProperty(s):r.style.setProperty(s,n,a))}}function js(r,e,t,a){var s=r.__style;if(G||s!==e){var n=Zs(e,a);(!G||n!==r.getAttribute("style"))&&(n==null?r.removeAttribute("style"):r.style.cssText=n),r.__style=e}else a&&(Array.isArray(a)?(qt(r,t==null?void 0:t[0],a[0]),qt(r,t==null?void 0:t[1],a[1],"important")):qt(r,t,a));return a}const Ge=Symbol("class"),Ke=Symbol("style"),sa=Symbol("is custom element"),na=Symbol("is html");function Mr(r){if(G){var e=!1,t=()=>{if(!e){if(e=!0,r.hasAttribute("value")){var a=r.value;Ae(r,"value",null),r.value=a}if(r.hasAttribute("checked")){var s=r.checked;Ae(r,"checked",null),r.checked=s}}};r.__on_r=t,os(t),xs()}}function Ls(r,e){e?r.hasAttribute("selected")||r.setAttribute("selected",""):r.removeAttribute("selected")}function Ae(r,e,t,a){var s=ia(r);G&&(s[e]=r.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&r.nodeName==="LINK")||s[e]!==(s[e]=t)&&(e==="loading"&&(r[ns]=t),t==null?r.removeAttribute(e):typeof t!="string"&&oa(r).includes(e)?r[e]=t:r.setAttribute(e,t))}function _t(r,e,t,a,s=!1){var n=ia(r),i=n[sa],o=!n[na];let l=G&&i;l&&Qe(!1);var d=e||{},c=r.tagName==="OPTION";for(var h in e)h in t||(t[h]=null);t.class?t.class=yt(t.class):t[Ge]&&(t.class=null),t[Ke]&&(t.style??(t.style=null));var p=oa(r);for(const I in t){let b=t[I];if(c&&I==="value"&&b==null){r.value=r.__value="",d[I]=b;continue}if(I==="class"){var g=r.namespaceURI==="http://www.w3.org/1999/xhtml";bt(r,g,b,a,e==null?void 0:e[Ge],t[Ge]),d[I]=b,d[Ge]=t[Ge];continue}if(I==="style"){js(r,b,e==null?void 0:e[Ke],t[Ke]),d[I]=b,d[Ke]=t[Ke];continue}var m=d[I];if(b!==m){d[I]=b;var w=I[0]+I[1];if(w!=="$$")if(w==="on"){const E={},W="$$"+I;let D=I.slice(2);var C=bs(D);if(vs(D)&&(D=D.slice(0,-7),E.capture=!0),!C&&m){if(b!=null)continue;r.removeEventListener(D,d[W],E),d[W]=null}if(b!=null)if(C)r[`__${D}`]=b,ea([D]);else{let y=function(j){d[I].call(this,j)};d[W]=_s(D,r,y,E)}else C&&(r[`__${D}`]=void 0)}else if(I==="style")Ae(r,I,b);else if(I==="autofocus")gs(r,!!b);else if(!i&&(I==="__value"||I==="value"&&b!=null))r.value=r.__value=b;else if(I==="selected"&&c)Ls(r,b);else{var R=I;o||(R=ys(R));var z=R==="defaultValue"||R==="defaultChecked";if(b==null&&!i&&!z)if(n[I]=null,R==="value"||R==="checked"){let E=r;const W=e===void 0;if(R==="value"){let D=E.defaultValue;E.removeAttribute(R),E.defaultValue=D,E.value=E.__value=W?D:null}else{let D=E.defaultChecked;E.removeAttribute(R),E.defaultChecked=D,E.checked=W?D:!1}}else r.removeAttribute(I);else z||p.includes(R)&&(i||typeof b!="string")?r[R]=b:typeof b!="function"&&Ae(r,R,b)}}}return l&&Qe(!0),d}function ia(r){return r.__attributes??(r.__attributes={[sa]:r.nodeName.includes("-"),[na]:r.namespaceURI===as})}var Vr=new Map;function oa(r){var e=Vr.get(r.nodeName);if(e)return e;Vr.set(r.nodeName,e=[]);for(var t,a=r,s=Element.prototype;s!==a;){t=is(a);for(var n in t)t[n].set&&e.push(n);a=ss(a)}return e}const Ms=()=>performance.now(),ve={tick:r=>requestAnimationFrame(r),now:()=>Ms(),tasks:new Set};function da(){const r=ve.now();ve.tasks.forEach(e=>{e.c(r)||(ve.tasks.delete(e),e.f())}),ve.tasks.size!==0&&ve.tick(da)}function Vs(r){let e;return ve.tasks.size===0&&ve.tick(da),{promise:new Promise(t=>{ve.tasks.add(e={c:r,f:t})}),abort(){ve.tasks.delete(e)}}}function mt(r,e){ws(()=>{r.dispatchEvent(new CustomEvent(e))})}function Ps(r){if(r==="float")return"cssFloat";if(r==="offset")return"cssOffset";if(r.startsWith("--"))return r;const e=r.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(t=>t[0].toUpperCase()+t.slice(1)).join("")}function Pr(r){const e={},t=r.split(";");for(const a of t){const[s,n]=a.split(":");if(!s||n===void 0)break;const i=Ps(s.trim());e[i]=n.trim()}return e}const Ds=r=>r;function zs(r,e,t,a){var s=(r&us)!==0,n="both",i,o=e.inert,l=e.style.overflow,d,c;function h(){var C=hs,R=gt;Nr(null),Ir(null);try{return i??(i=t()(e,(a==null?void 0:a())??{},{direction:n}))}finally{Nr(C),Ir(R)}}var p={is_global:s,in(){e.inert=o,mt(e,"introstart"),d=Xt(e,h(),c,1,()=>{mt(e,"introend"),d==null||d.abort(),d=i=void 0,e.style.overflow=l})},out(C){e.inert=!0,mt(e,"outrostart"),c=Xt(e,h(),d,0,()=>{mt(e,"outroend"),C==null||C()})},stop:()=>{d==null||d.abort(),c==null||c.abort()}},g=gt;if((g.transitions??(g.transitions=[])).push(p),ks){var m=s;if(!m){for(var w=g.parent;w&&(w.f&ds)!==0;)for(;(w=w.parent)&&(w.f&cs)===0;);m=!w||(w.f&ls)!==0}m&&nr(()=>{Nt(()=>p.in())})}}function Xt(r,e,t,a,s){var n=a===1;if(fs(e)){var i,o=!1;return Xr(()=>{if(!o){var C=e({direction:n?"in":"out"});i=Xt(r,C,t,a,s)}}),{abort:()=>{o=!0,i==null||i.abort()},deactivate:()=>i.deactivate(),reset:()=>i.reset(),t:()=>i.t()}}if(t==null||t.deactivate(),!(e!=null&&e.duration))return s(),{abort:We,deactivate:We,reset:We,t:()=>a};const{delay:l=0,css:d,tick:c,easing:h=Ds}=e;var p=[];if(n&&t===void 0&&(c&&c(0,1),d)){var g=Pr(d(0,1));p.push(g,g)}var m=()=>1-a,w=r.animate(p,{duration:l});return w.onfinish=()=>{var C=(t==null?void 0:t.t())??1-a;t==null||t.abort();var R=a-C,z=e.duration*Math.abs(R),I=[];if(z>0){var b=!1;if(d)for(var E=Math.ceil(z/16.666666666666668),W=0;W<=E;W+=1){var D=C+R*h(W/E),y=Pr(d(D,1-D));I.push(y),b||(b=y.overflow==="hidden")}b&&(r.style.overflow="hidden"),m=()=>{var j=w.currentTime;return C+R*h(j/z)},c&&Vs(()=>{if(w.playState!=="running")return!1;var j=m();return c(j,1-j),!0})}w=r.animate(I,{duration:z,fill:"forwards"}),w.onfinish=()=>{m=()=>a,c==null||c(a,1-a),s()}},{abort:()=>{w&&(w.cancel(),w.effect=null,w.onfinish=We)},deactivate:()=>{s=We},reset:()=>{a===0&&(c==null||c(1,0))},t:()=>m()}}function Fs(r,e,t=e){var a=qr();ta(r,"input",s=>{var n=s?r.defaultValue:r.value;if(n=Wt(r)?Gt(n):n,t(n),a&&n!==(n=e())){var i=r.selectionStart,o=r.selectionEnd;r.value=n??"",o!==null&&(r.selectionStart=i,r.selectionEnd=Math.min(o,r.value.length))}}),(G&&r.defaultValue!==r.value||Nt(e)==null&&r.value)&&t(Wt(r)?Gt(r.value):r.value),ps(()=>{var s=e();Wt(r)&&s===Gt(r.value)||r.type==="date"&&!s&&!r.value||s!==r.value&&(r.value=s??"")})}function Wt(r){var e=r.type;return e==="number"||e==="range"}function Gt(r){return r===""?null:+r}function ca(r,e,t){if(r.multiple)return Hs(r,e);for(var a of r.options){var s=$e(a);if(ms(s,e)){a.selected=!0;return}}(!t||e!==void 0)&&(r.selectedIndex=-1)}function Us(r,e){nr(()=>{var t=new MutationObserver(()=>{var a=r.__value;ca(r,a)});return t.observe(r,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{t.disconnect()}})}function Bs(r,e,t=e){var a=!0;ta(r,"change",s=>{var n=s?"[selected]":":checked",i;if(r.multiple)i=[].map.call(r.querySelectorAll(n),$e);else{var o=r.querySelector(n)??r.querySelector("option:not([disabled])");i=o&&$e(o)}t(i)}),nr(()=>{var s=e();if(ca(r,s,a),a&&s===void 0){var n=r.querySelector(":checked");n!==null&&(s=$e(n),t(s))}r.__value=s,a=!1}),Us(r)}function Hs(r,e){for(var t of r.options)t.selected=~e.indexOf($e(t))}function $e(r){return"__value"in r?r.__value:r.value}var qs=H("<option> </option>"),Ws=H("<select></select>"),Gs=H("<input>"),Ks=H("<input>"),Ys=H('<label class="-z1 absolute top-3 origin-[0] -translate-y-6 scale-90 transform text-sm text-gray-500 dark:text-gray-400"> </label>'),Js=H('<p class="mt-2 text-xs text-red-600 dark:text-red-500"> </p>'),Xs=H("<label> </label> <!>",1),Qs=H("<div><!> <!></div>");function $s(r,e){Be(e,!0);let t=Ss(e,"value",15);var a=Qs(),s=S(a);{var n=c=>{var h=Ws();let p;Ve(h,20,()=>e.control.options,g=>g,(g,m)=>{var w=qs(),C={},R=S(w,!0);x(w),Y(()=>{C!==(C=m)&&(w.value=(w.__value=m)??""),P(R,m)}),U(g,w)}),x(h),Y(()=>p=_t(h,p,{id:e.control.id,name:e.control.name,...e.control.required&&{required:!0},...e.control.disabled&&{disabled:!0},class:["text-md block w-full appearance-none border-0 border-b-2 bg-transparent px-0 py-2.5 text-gray-900","border-gray-300 focus:border-blue-600 dark:border-gray-400 dark:text-white dark:focus:border-blue-500","peer focus:ring-0 focus:outline-none"],placeholder:"",...e.error&&{"aria-invalid":!0,"aria-errormessage":`${e.control.id}-error-message`}})),Bs(h,t),U(c,h)},i=(c,h)=>{{var p=m=>{var w=Gs();Mr(w);let C;Y(()=>C=_t(w,C,{id:e.control.id,name:e.control.name,type:e.control.type,...e.control.required&&{required:!0},...e.control.disabled&&{disabled:!0},class:["text-md block w-full appearance-none border-0 border-b-1 bg-transparent px-0 py-2.5 text-gray-900","disabled:border-gray-200 disabled:bg-gray-50 disabled:text-gray-500 disabled:shadow-none","dark:text-white dark:disabled:border-gray-700 dark:disabled:bg-gray-800/20",e.error&&"border-red-600 dark:border-red-500",!e.error&&"border-gray-300 focus:border-blue-600 dark:border-gray-400 dark:focus:border-blue-500","focus:ring-0 focus:outline-none","peer"],placeholder:"",autocomplete:"off",...e.error&&{"aria-invalid":!0,"aria-errormessage":`${e.control.id}-error-message`},...e.control.attrs})),Fs(w,t),U(m,w)},g=m=>{var w=Ks();Mr(w);let C;Y(()=>C=_t(w,C,{id:e.control.id,name:e.control.name,type:e.control.type,disabled:!0,class:e.control.disabled?["text-md dark:border-gray-60 peer block w-full appearance-none border-0 border-b-1 border-gray-300","bg-transparent px-0 py-2.5 text-gray-900 disabled:border-gray-200 disabled:bg-gray-50 dark:text-white","disabled:text-gray-500 disabled:shadow-none dark:disabled:border-gray-700 disabled:dark:text-gray-400","dark:disabled:bg-gray-800/20"]:["text-md block w-full appearance-none border-0 border-b-1 bg-transparent px-0 py-2.5 text-gray-900","dark:text-white",e.error&&"border-red-600 dark:border-red-500",!e.error&&"border-gray-300 focus:border-blue-600 dark:border-gray-400 dark:focus:border-blue-500","focus:ring-0 focus:outline-none","peer"],placeholder:"",autocomplete:"off",...e.error&&{"aria-invalid":!0,"aria-errormessage":`${e.control.id}-error-message`},...e.control.attrs})),U(m,w)};ke(c,m=>{!("syncToUrl"in e.control)||e.control.syncToUrl?m(p):m(g,!1)},h)}};ke(s,c=>{e.control.type==="select"&&e.control.options?c(n):c(i,!1)})}var o=O(s,2);{var l=c=>{var h=Ys(),p=S(h);x(h),Y(()=>{Ae(h,"for",e.control.id),P(p,`${e.control.label??""} (disabled)`)}),U(c,h)},d=c=>{var h=Xs(),p=De(h),g=S(p);x(p);var m=O(p,2);{var w=C=>{var R=Js(),z=S(R,!0);x(R),Y(()=>{Ae(R,"id",`${e.control.id}-error-message`),P(z,e.error)}),U(C,R)};ke(m,C=>{e.error&&C(w)})}Y(()=>{Ae(p,"for",e.control.id),bt(p,1,yt(["absolute -translate-y-6 scale-90 transform text-sm text-gray-500 duration-300 peer-focus:font-medium dark:text-gray-400","top-3 -z-10 origin-[0] peer-focus:start-0",e.error&&"peer-focus:text-red-600 peer-focus:dark:text-red-500",!e.error&&"peer-focus:text-blue-600 peer-focus:dark:text-blue-500","peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:-translate-y-6 peer-focus:scale-100"])),P(g,`${e.control.label??""}${e.control.required?"*":""}`)}),U(c,h)};ke(o,c=>{e.control.disabled?c(l):c(d,!1)})}x(a),Y(()=>bt(a,1,yt(["group relative z-0 w-full",e.control.disabled?"mt-7":"mt-5"]))),U(r,a),He()}var en=H("<option> </option>"),tn=(r,e)=>be(e,!u(e)),rn=H('<button class="m-auto block bg-blue-700 px-5 py-2.5 text-sm font-medium text-white hover:bg-blue-800 focus:ring-0 focus:ring-blue-300 focus:outline-none dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"> </button> <div><!></div>',1),an=H('<div class="mb-4 rounded dark:text-white"><!></div> <!>',1),sn=H('<div class="mx-auto max-w-xl rounded-b-lg p-4"><div class="mb-7"><label for="game" class="mb-1 block font-semibold text-black dark:text-white">Select Game:</label> <select id="game" class="block w-full border-0 border-b-1 bg-transparent p-2 focus:ring-0 focus:outline-none dark:text-white"></select></div> <div class="mb-6 space-y-3"></div> <!></div>');function nn(r,e){Be(e,!0);const t=Object.keys(e.games);let a=vt(Qr(Object.fromEntries(he.url.searchParams.entries()))),s=q(()=>u(a).game),n=q(()=>{var y;return(y=e.games[u(s)])==null?void 0:y.controls}),i=q(()=>{var y;return(y=e.games[u(s)])==null?void 0:y.schema}),o=q(()=>{var y;return(y=e.games[u(s)])==null?void 0:y.ResultComponent}),l=q(()=>{var y;return(y=e.games[u(s)])==null?void 0:y.ExplanationComponent}),d=vt(!0),c=vt(!1),h=q(()=>{var y;return(y=u(n))==null?void 0:y.reduce((j,T)=>(j[T.id]=T,j),{})}),p=q(()=>{var j;const y=Object.fromEntries(Object.entries(u(a)).filter(([,T])=>T!==null&&T!=="").map(([T,V])=>{var F;return((F=u(h)[T])==null?void 0:F.type)==="number"?[T,parseInt(V)]:[T,V]}));return(j=u(i))==null?void 0:j.safeParse(y)}),g=q(()=>!u(p)||u(p).success?{}:u(p).error.flatten().fieldErrors),m=q(()=>{var y;return((y=u(p))==null?void 0:y.success)===!0}),w;$r(()=>{if(w!==void 0&&clearTimeout(w),u(s)&&u(s)in e.games&&u(s)===he.url.searchParams.get("game")){const y=Object.entries(u(a)).filter(([T,V])=>(u(h)[T]&&"syncToUrl"in u(h)[T]?u(h)[T].syncToUrl:!0)&&V!==null),j=new URLSearchParams(y).toString();j!==he.url.searchParams.toString()&&(be(c,!1),w=setTimeout(()=>R(`?${j}`),350))}}),Ts(()=>{var j;if(!he.url.searchParams.has("game")||!(he.url.searchParams.get("game")in e.games)){R(`?game=${t[0]}`);return}if(u(s)!==he.url.searchParams.get("game")){be(a,{game:he.url.searchParams.get("game")},!0),be(c,!1);return}const y=u(a);for(const[T,V]of he.url.searchParams.entries())((j=u(h)[T])==null?void 0:j.type)==="select"?u(h)[T].options.includes(V)||(y[T]=u(h)[T].options[0]):u(a)[T]!==V&&(y[T]=u(h)[T].type==="number"?parseInt(V):V);for(const T of Object.keys(y))(!he.url.searchParams.has(T)||y[T]===null||y[T]==="")&&delete y[T];if(u(d)){Nt(()=>be(d,!1));for(const T in u(h))T in y||(u(h)[T].type==="select"?y[T]=u(h)[T].options[0]:"default"in u(h)[T]&&u(h)[T].default!==void 0&&(y[T]=u(h)[T].default))}be(a,y,!0)});function C(y){const j=y.target.value,T={};T.game=j;for(const F of e.games[j].controls)F.type==="select"?T[F.id]=F.options[0]:"default"in F&&F.default!==void 0&&(T[F.id]=F.default);be(a,T,!0);const V=new URLSearchParams(Object.entries(T)).toString();R(`?${V}`)}function R(y){Cs(y,{replaceState:!0,keepFocus:!0,noScroll:!0})}var z=sn(),I=S(z),b=O(S(I),2);b.__change=C,Ve(b,21,()=>Object.entries(e.games),([y,j])=>y,(y,j)=>{let T=()=>u(j)[0],V=()=>u(j)[1];var F=en();let ge;var Q=S(F,!0);x(F),Y(()=>{ge=_t(F,ge,{value:T(),...u(s)===T()?{selected:!0}:{}}),P(Q,V().name)}),U(y,F)}),x(b),x(I);var E=O(I,2);Ve(E,21,()=>u(n),y=>y.id,(y,j)=>{const T=q(()=>{var V;return(V=u(g)[u(j).id])==null?void 0:V[0]});$s(y,{get control(){return u(j)},get error(){return u(T)},get value(){return u(a)[u(j).id]},set value(V){u(a)[u(j).id]=V}})}),x(E);var W=O(E,2);{var D=y=>{var j=an(),T=De(j),V=S(T);Rr(V,()=>u(o),(Q,ue)=>{ue(Q,{get formValues(){return u(a)}})}),x(T);var F=O(T,2);{var ge=Q=>{var ue=rn(),re=De(ue);re.__click=[tn,c];var Ze=S(re,!0);x(re);var ie=O(re,2),pt=S(ie);Rr(pt,()=>u(l),(Rt,qe)=>{qe(Rt,{get formValues(){return u(a)}})}),x(ie),Y(()=>{P(Ze,u(c)?"Hide Explanation":"Show Explanation"),bt(ie,1,yt(["dark:text-white",u(c)?"":"hidden"]))}),U(Q,ue)};ke(F,Q=>{u(l)&&Q(ge)})}U(y,j)};ke(W,y=>{u(m)&&u(o)&&y(D)})}x(z),U(r,z),He()}ea(["change","click"]);var M;(function(r){r.assertEqual=s=>s;function e(s){}r.assertIs=e;function t(s){throw new Error}r.assertNever=t,r.arrayToEnum=s=>{const n={};for(const i of s)n[i]=i;return n},r.getValidEnumValues=s=>{const n=r.objectKeys(s).filter(o=>typeof s[s[o]]!="number"),i={};for(const o of n)i[o]=s[o];return r.objectValues(i)},r.objectValues=s=>r.objectKeys(s).map(function(n){return s[n]}),r.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const n=[];for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&n.push(i);return n},r.find=(s,n)=>{for(const i of s)if(n(i))return i},r.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function a(s,n=" | "){return s.map(i=>typeof i=="string"?`'${i}'`:i).join(n)}r.joinValues=a,r.jsonStringifyReplacer=(s,n)=>typeof n=="bigint"?n.toString():n})(M||(M={}));var Qt;(function(r){r.mergeShapes=(e,t)=>({...e,...t})})(Qt||(Qt={}));const _=M.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),me=r=>{switch(typeof r){case"undefined":return _.undefined;case"string":return _.string;case"number":return isNaN(r)?_.nan:_.number;case"boolean":return _.boolean;case"function":return _.function;case"bigint":return _.bigint;case"symbol":return _.symbol;case"object":return Array.isArray(r)?_.array:r===null?_.null:r.then&&typeof r.then=="function"&&r.catch&&typeof r.catch=="function"?_.promise:typeof Map<"u"&&r instanceof Map?_.map:typeof Set<"u"&&r instanceof Set?_.set:typeof Date<"u"&&r instanceof Date?_.date:_.object;default:return _.unknown}},f=M.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),on=r=>JSON.stringify(r,null,2).replace(/"([^"]+)":/g,"$1:");class ee extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(n){return n.message},a={_errors:[]},s=n=>{for(const i of n.issues)if(i.code==="invalid_union")i.unionErrors.map(s);else if(i.code==="invalid_return_type")s(i.returnTypeError);else if(i.code==="invalid_arguments")s(i.argumentsError);else if(i.path.length===0)a._errors.push(t(i));else{let o=a,l=0;for(;l<i.path.length;){const d=i.path[l];l===i.path.length-1?(o[d]=o[d]||{_errors:[]},o[d]._errors.push(t(i))):o[d]=o[d]||{_errors:[]},o=o[d],l++}}};return s(this),a}static assert(e){if(!(e instanceof ee))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,M.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},a=[];for(const s of this.issues)s.path.length>0?(t[s.path[0]]=t[s.path[0]]||[],t[s.path[0]].push(e(s))):a.push(e(s));return{formErrors:a,fieldErrors:t}}get formErrors(){return this.flatten()}}ee.create=r=>new ee(r);const ze=(r,e)=>{let t;switch(r.code){case f.invalid_type:r.received===_.undefined?t="Required":t=`Expected ${r.expected}, received ${r.received}`;break;case f.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(r.expected,M.jsonStringifyReplacer)}`;break;case f.unrecognized_keys:t=`Unrecognized key(s) in object: ${M.joinValues(r.keys,", ")}`;break;case f.invalid_union:t="Invalid input";break;case f.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${M.joinValues(r.options)}`;break;case f.invalid_enum_value:t=`Invalid enum value. Expected ${M.joinValues(r.options)}, received '${r.received}'`;break;case f.invalid_arguments:t="Invalid function arguments";break;case f.invalid_return_type:t="Invalid function return type";break;case f.invalid_date:t="Invalid date";break;case f.invalid_string:typeof r.validation=="object"?"includes"in r.validation?(t=`Invalid input: must include "${r.validation.includes}"`,typeof r.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${r.validation.position}`)):"startsWith"in r.validation?t=`Invalid input: must start with "${r.validation.startsWith}"`:"endsWith"in r.validation?t=`Invalid input: must end with "${r.validation.endsWith}"`:M.assertNever(r.validation):r.validation!=="regex"?t=`Invalid ${r.validation}`:t="Invalid";break;case f.too_small:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at least":"more than"} ${r.minimum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at least":"over"} ${r.minimum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(r.minimum))}`:t="Invalid input";break;case f.too_big:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at most":"less than"} ${r.maximum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at most":"under"} ${r.maximum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="bigint"?t=`BigInt must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly":r.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(r.maximum))}`:t="Invalid input";break;case f.custom:t="Invalid input";break;case f.invalid_intersection_types:t="Intersection results could not be merged";break;case f.not_multiple_of:t=`Number must be a multiple of ${r.multipleOf}`;break;case f.not_finite:t="Number must be finite";break;default:t=e.defaultError,M.assertNever(r)}return{message:t}};let la=ze;function dn(r){la=r}function xt(){return la}const kt=r=>{const{data:e,path:t,errorMaps:a,issueData:s}=r,n=[...t,...s.path||[]],i={...s,path:n};if(s.message!==void 0)return{...s,path:n,message:s.message};let o="";const l=a.filter(d=>!!d).slice().reverse();for(const d of l)o=d(i,{data:e,defaultError:o}).message;return{...s,path:n,message:o}},cn=[];function v(r,e){const t=xt(),a=kt({issueData:e,data:r.data,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,t,t===ze?void 0:ze].filter(s=>!!s)});r.common.issues.push(a)}class J{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const a=[];for(const s of t){if(s.status==="aborted")return N;s.status==="dirty"&&e.dirty(),a.push(s.value)}return{status:e.value,value:a}}static async mergeObjectAsync(e,t){const a=[];for(const s of t){const n=await s.key,i=await s.value;a.push({key:n,value:i})}return J.mergeObjectSync(e,a)}static mergeObjectSync(e,t){const a={};for(const s of t){const{key:n,value:i}=s;if(n.status==="aborted"||i.status==="aborted")return N;n.status==="dirty"&&e.dirty(),i.status==="dirty"&&e.dirty(),n.value!=="__proto__"&&(typeof i.value<"u"||s.alwaysSet)&&(a[n.value]=i.value)}return{status:e.value,value:a}}}const N=Object.freeze({status:"aborted"}),Me=r=>({status:"dirty",value:r}),X=r=>({status:"valid",value:r}),$t=r=>r.status==="aborted",er=r=>r.status==="dirty",Ie=r=>r.status==="valid",et=r=>typeof Promise<"u"&&r instanceof Promise;function wt(r,e,t,a){if(typeof e=="function"?r!==e||!0:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(r)}function ua(r,e,t,a,s){if(typeof e=="function"?r!==e||!0:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(r,t),t}var k;(function(r){r.errToObj=e=>typeof e=="string"?{message:e}:e||{},r.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(k||(k={}));var Ye,Je;class ce{constructor(e,t,a,s){this._cachedPath=[],this.parent=e,this.data=t,this._path=a,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Dr=(r,e)=>{if(Ie(e))return{success:!0,data:e.value};if(!r.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new ee(r.common.issues);return this._error=t,this._error}}};function Z(r){if(!r)return{};const{errorMap:e,invalid_type_error:t,required_error:a,description:s}=r;if(e&&(t||a))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(i,o)=>{var l,d;const{message:c}=r;return i.code==="invalid_enum_value"?{message:c??o.defaultError}:typeof o.data>"u"?{message:(l=c??a)!==null&&l!==void 0?l:o.defaultError}:i.code!=="invalid_type"?{message:o.defaultError}:{message:(d=c??t)!==null&&d!==void 0?d:o.defaultError}},description:s}}class L{get description(){return this._def.description}_getType(e){return me(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:me(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new J,ctx:{common:e.parent.common,data:e.data,parsedType:me(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(et(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const a=this.safeParse(e,t);if(a.success)return a.data;throw a.error}safeParse(e,t){var a;const s={common:{issues:[],async:(a=t==null?void 0:t.async)!==null&&a!==void 0?a:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:me(e)},n=this._parseSync({data:e,path:s.path,parent:s});return Dr(s,n)}"~validate"(e){var t,a;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:me(e)};if(!this["~standard"].async)try{const n=this._parseSync({data:e,path:[],parent:s});return Ie(n)?{value:n.value}:{issues:s.common.issues}}catch(n){!((a=(t=n==null?void 0:n.message)===null||t===void 0?void 0:t.toLowerCase())===null||a===void 0)&&a.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:s}).then(n=>Ie(n)?{value:n.value}:{issues:s.common.issues})}async parseAsync(e,t){const a=await this.safeParseAsync(e,t);if(a.success)return a.data;throw a.error}async safeParseAsync(e,t){const a={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:me(e)},s=this._parse({data:e,path:a.path,parent:a}),n=await(et(s)?s:Promise.resolve(s));return Dr(a,n)}refine(e,t){const a=s=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(s):t;return this._refinement((s,n)=>{const i=e(s),o=()=>n.addIssue({code:f.custom,...a(s)});return typeof Promise<"u"&&i instanceof Promise?i.then(l=>l?!0:(o(),!1)):i?!0:(o(),!1)})}refinement(e,t){return this._refinement((a,s)=>e(a)?!0:(s.addIssue(typeof t=="function"?t(a,s):t),!1))}_refinement(e){return new ne({schema:this,typeName:A.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return de.create(this,this._def)}nullable(){return Ce.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return se.create(this)}promise(){return Ue.create(this,this._def)}or(e){return st.create([this,e],this._def)}and(e){return nt.create(this,e,this._def)}transform(e){return new ne({...Z(this._def),schema:this,typeName:A.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new lt({...Z(this._def),innerType:this,defaultValue:t,typeName:A.ZodDefault})}brand(){return new ir({typeName:A.ZodBranded,type:this,...Z(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new ut({...Z(this._def),innerType:this,catchValue:t,typeName:A.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return ht.create(this,e)}readonly(){return ft.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const ln=/^c[^\s-]{8,}$/i,un=/^[0-9a-z]+$/,fn=/^[0-9A-HJKMNP-TV-Z]{26}$/i,hn=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,pn=/^[a-z0-9_-]{21}$/i,mn=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,vn=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,_n=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,gn="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Kt;const yn=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,bn=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,xn=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,kn=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,wn=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Sn=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,fa="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Tn=new RegExp(`^${fa}$`);function ha(r){let e="[0-5]\\d";r.precision?e=`${e}\\.\\d{${r.precision}}`:r.precision==null&&(e=`${e}(\\.\\d+)?`);const t=r.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}function Cn(r){return new RegExp(`^${ha(r)}$`)}function pa(r){let e=`${fa}T${ha(r)}`;const t=[];return t.push(r.local?"Z?":"Z"),r.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function En(r,e){return!!((e==="v4"||!e)&&yn.test(r)||(e==="v6"||!e)&&xn.test(r))}function An(r,e){if(!mn.test(r))return!1;try{const[t]=r.split("."),a=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),s=JSON.parse(atob(a));return!(typeof s!="object"||s===null||!s.typ||!s.alg||e&&s.alg!==e)}catch{return!1}}function Nn(r,e){return!!((e==="v4"||!e)&&bn.test(r)||(e==="v6"||!e)&&kn.test(r))}class ae extends L{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==_.string){const n=this._getOrReturnCtx(e);return v(n,{code:f.invalid_type,expected:_.string,received:n.parsedType}),N}const a=new J;let s;for(const n of this._def.checks)if(n.kind==="min")e.data.length<n.value&&(s=this._getOrReturnCtx(e,s),v(s,{code:f.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),a.dirty());else if(n.kind==="max")e.data.length>n.value&&(s=this._getOrReturnCtx(e,s),v(s,{code:f.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),a.dirty());else if(n.kind==="length"){const i=e.data.length>n.value,o=e.data.length<n.value;(i||o)&&(s=this._getOrReturnCtx(e,s),i?v(s,{code:f.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}):o&&v(s,{code:f.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}),a.dirty())}else if(n.kind==="email")_n.test(e.data)||(s=this._getOrReturnCtx(e,s),v(s,{validation:"email",code:f.invalid_string,message:n.message}),a.dirty());else if(n.kind==="emoji")Kt||(Kt=new RegExp(gn,"u")),Kt.test(e.data)||(s=this._getOrReturnCtx(e,s),v(s,{validation:"emoji",code:f.invalid_string,message:n.message}),a.dirty());else if(n.kind==="uuid")hn.test(e.data)||(s=this._getOrReturnCtx(e,s),v(s,{validation:"uuid",code:f.invalid_string,message:n.message}),a.dirty());else if(n.kind==="nanoid")pn.test(e.data)||(s=this._getOrReturnCtx(e,s),v(s,{validation:"nanoid",code:f.invalid_string,message:n.message}),a.dirty());else if(n.kind==="cuid")ln.test(e.data)||(s=this._getOrReturnCtx(e,s),v(s,{validation:"cuid",code:f.invalid_string,message:n.message}),a.dirty());else if(n.kind==="cuid2")un.test(e.data)||(s=this._getOrReturnCtx(e,s),v(s,{validation:"cuid2",code:f.invalid_string,message:n.message}),a.dirty());else if(n.kind==="ulid")fn.test(e.data)||(s=this._getOrReturnCtx(e,s),v(s,{validation:"ulid",code:f.invalid_string,message:n.message}),a.dirty());else if(n.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),v(s,{validation:"url",code:f.invalid_string,message:n.message}),a.dirty()}else n.kind==="regex"?(n.regex.lastIndex=0,n.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),v(s,{validation:"regex",code:f.invalid_string,message:n.message}),a.dirty())):n.kind==="trim"?e.data=e.data.trim():n.kind==="includes"?e.data.includes(n.value,n.position)||(s=this._getOrReturnCtx(e,s),v(s,{code:f.invalid_string,validation:{includes:n.value,position:n.position},message:n.message}),a.dirty()):n.kind==="toLowerCase"?e.data=e.data.toLowerCase():n.kind==="toUpperCase"?e.data=e.data.toUpperCase():n.kind==="startsWith"?e.data.startsWith(n.value)||(s=this._getOrReturnCtx(e,s),v(s,{code:f.invalid_string,validation:{startsWith:n.value},message:n.message}),a.dirty()):n.kind==="endsWith"?e.data.endsWith(n.value)||(s=this._getOrReturnCtx(e,s),v(s,{code:f.invalid_string,validation:{endsWith:n.value},message:n.message}),a.dirty()):n.kind==="datetime"?pa(n).test(e.data)||(s=this._getOrReturnCtx(e,s),v(s,{code:f.invalid_string,validation:"datetime",message:n.message}),a.dirty()):n.kind==="date"?Tn.test(e.data)||(s=this._getOrReturnCtx(e,s),v(s,{code:f.invalid_string,validation:"date",message:n.message}),a.dirty()):n.kind==="time"?Cn(n).test(e.data)||(s=this._getOrReturnCtx(e,s),v(s,{code:f.invalid_string,validation:"time",message:n.message}),a.dirty()):n.kind==="duration"?vn.test(e.data)||(s=this._getOrReturnCtx(e,s),v(s,{validation:"duration",code:f.invalid_string,message:n.message}),a.dirty()):n.kind==="ip"?En(e.data,n.version)||(s=this._getOrReturnCtx(e,s),v(s,{validation:"ip",code:f.invalid_string,message:n.message}),a.dirty()):n.kind==="jwt"?An(e.data,n.alg)||(s=this._getOrReturnCtx(e,s),v(s,{validation:"jwt",code:f.invalid_string,message:n.message}),a.dirty()):n.kind==="cidr"?Nn(e.data,n.version)||(s=this._getOrReturnCtx(e,s),v(s,{validation:"cidr",code:f.invalid_string,message:n.message}),a.dirty()):n.kind==="base64"?wn.test(e.data)||(s=this._getOrReturnCtx(e,s),v(s,{validation:"base64",code:f.invalid_string,message:n.message}),a.dirty()):n.kind==="base64url"?Sn.test(e.data)||(s=this._getOrReturnCtx(e,s),v(s,{validation:"base64url",code:f.invalid_string,message:n.message}),a.dirty()):M.assertNever(n);return{status:a.value,value:e.data}}_regex(e,t,a){return this.refinement(s=>e.test(s),{validation:t,code:f.invalid_string,...k.errToObj(a)})}_addCheck(e){return new ae({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...k.errToObj(e)})}url(e){return this._addCheck({kind:"url",...k.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...k.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...k.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...k.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...k.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...k.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...k.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...k.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...k.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...k.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...k.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...k.errToObj(e)})}datetime(e){var t,a;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!==null&&t!==void 0?t:!1,local:(a=e==null?void 0:e.local)!==null&&a!==void 0?a:!1,...k.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...k.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...k.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...k.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...k.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...k.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...k.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...k.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...k.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...k.errToObj(t)})}nonempty(e){return this.min(1,k.errToObj(e))}trim(){return new ae({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ae({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ae({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}ae.create=r=>{var e;return new ae({checks:[],typeName:A.ZodString,coerce:(e=r==null?void 0:r.coerce)!==null&&e!==void 0?e:!1,...Z(r)})};function In(r,e){const t=(r.toString().split(".")[1]||"").length,a=(e.toString().split(".")[1]||"").length,s=t>a?t:a,n=parseInt(r.toFixed(s).replace(".","")),i=parseInt(e.toFixed(s).replace(".",""));return n%i/Math.pow(10,s)}class we extends L{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==_.number){const n=this._getOrReturnCtx(e);return v(n,{code:f.invalid_type,expected:_.number,received:n.parsedType}),N}let a;const s=new J;for(const n of this._def.checks)n.kind==="int"?M.isInteger(e.data)||(a=this._getOrReturnCtx(e,a),v(a,{code:f.invalid_type,expected:"integer",received:"float",message:n.message}),s.dirty()):n.kind==="min"?(n.inclusive?e.data<n.value:e.data<=n.value)&&(a=this._getOrReturnCtx(e,a),v(a,{code:f.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),s.dirty()):n.kind==="max"?(n.inclusive?e.data>n.value:e.data>=n.value)&&(a=this._getOrReturnCtx(e,a),v(a,{code:f.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),s.dirty()):n.kind==="multipleOf"?In(e.data,n.value)!==0&&(a=this._getOrReturnCtx(e,a),v(a,{code:f.not_multiple_of,multipleOf:n.value,message:n.message}),s.dirty()):n.kind==="finite"?Number.isFinite(e.data)||(a=this._getOrReturnCtx(e,a),v(a,{code:f.not_finite,message:n.message}),s.dirty()):M.assertNever(n);return{status:s.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,k.toString(t))}gt(e,t){return this.setLimit("min",e,!1,k.toString(t))}lte(e,t){return this.setLimit("max",e,!0,k.toString(t))}lt(e,t){return this.setLimit("max",e,!1,k.toString(t))}setLimit(e,t,a,s){return new we({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:a,message:k.toString(s)}]})}_addCheck(e){return new we({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:k.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:k.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:k.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:k.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:k.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:k.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:k.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:k.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:k.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&M.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const a of this._def.checks){if(a.kind==="finite"||a.kind==="int"||a.kind==="multipleOf")return!0;a.kind==="min"?(t===null||a.value>t)&&(t=a.value):a.kind==="max"&&(e===null||a.value<e)&&(e=a.value)}return Number.isFinite(t)&&Number.isFinite(e)}}we.create=r=>new we({checks:[],typeName:A.ZodNumber,coerce:(r==null?void 0:r.coerce)||!1,...Z(r)});class Se extends L{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==_.bigint)return this._getInvalidInput(e);let a;const s=new J;for(const n of this._def.checks)n.kind==="min"?(n.inclusive?e.data<n.value:e.data<=n.value)&&(a=this._getOrReturnCtx(e,a),v(a,{code:f.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),s.dirty()):n.kind==="max"?(n.inclusive?e.data>n.value:e.data>=n.value)&&(a=this._getOrReturnCtx(e,a),v(a,{code:f.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),s.dirty()):n.kind==="multipleOf"?e.data%n.value!==BigInt(0)&&(a=this._getOrReturnCtx(e,a),v(a,{code:f.not_multiple_of,multipleOf:n.value,message:n.message}),s.dirty()):M.assertNever(n);return{status:s.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return v(t,{code:f.invalid_type,expected:_.bigint,received:t.parsedType}),N}gte(e,t){return this.setLimit("min",e,!0,k.toString(t))}gt(e,t){return this.setLimit("min",e,!1,k.toString(t))}lte(e,t){return this.setLimit("max",e,!0,k.toString(t))}lt(e,t){return this.setLimit("max",e,!1,k.toString(t))}setLimit(e,t,a,s){return new Se({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:a,message:k.toString(s)}]})}_addCheck(e){return new Se({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:k.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:k.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:k.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:k.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:k.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Se.create=r=>{var e;return new Se({checks:[],typeName:A.ZodBigInt,coerce:(e=r==null?void 0:r.coerce)!==null&&e!==void 0?e:!1,...Z(r)})};class tt extends L{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==_.boolean){const a=this._getOrReturnCtx(e);return v(a,{code:f.invalid_type,expected:_.boolean,received:a.parsedType}),N}return X(e.data)}}tt.create=r=>new tt({typeName:A.ZodBoolean,coerce:(r==null?void 0:r.coerce)||!1,...Z(r)});class Oe extends L{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==_.date){const n=this._getOrReturnCtx(e);return v(n,{code:f.invalid_type,expected:_.date,received:n.parsedType}),N}if(isNaN(e.data.getTime())){const n=this._getOrReturnCtx(e);return v(n,{code:f.invalid_date}),N}const a=new J;let s;for(const n of this._def.checks)n.kind==="min"?e.data.getTime()<n.value&&(s=this._getOrReturnCtx(e,s),v(s,{code:f.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),a.dirty()):n.kind==="max"?e.data.getTime()>n.value&&(s=this._getOrReturnCtx(e,s),v(s,{code:f.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),a.dirty()):M.assertNever(n);return{status:a.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Oe({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:k.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:k.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}Oe.create=r=>new Oe({checks:[],coerce:(r==null?void 0:r.coerce)||!1,typeName:A.ZodDate,...Z(r)});class St extends L{_parse(e){if(this._getType(e)!==_.symbol){const a=this._getOrReturnCtx(e);return v(a,{code:f.invalid_type,expected:_.symbol,received:a.parsedType}),N}return X(e.data)}}St.create=r=>new St({typeName:A.ZodSymbol,...Z(r)});class rt extends L{_parse(e){if(this._getType(e)!==_.undefined){const a=this._getOrReturnCtx(e);return v(a,{code:f.invalid_type,expected:_.undefined,received:a.parsedType}),N}return X(e.data)}}rt.create=r=>new rt({typeName:A.ZodUndefined,...Z(r)});class at extends L{_parse(e){if(this._getType(e)!==_.null){const a=this._getOrReturnCtx(e);return v(a,{code:f.invalid_type,expected:_.null,received:a.parsedType}),N}return X(e.data)}}at.create=r=>new at({typeName:A.ZodNull,...Z(r)});class Fe extends L{constructor(){super(...arguments),this._any=!0}_parse(e){return X(e.data)}}Fe.create=r=>new Fe({typeName:A.ZodAny,...Z(r)});class Ne extends L{constructor(){super(...arguments),this._unknown=!0}_parse(e){return X(e.data)}}Ne.create=r=>new Ne({typeName:A.ZodUnknown,...Z(r)});class _e extends L{_parse(e){const t=this._getOrReturnCtx(e);return v(t,{code:f.invalid_type,expected:_.never,received:t.parsedType}),N}}_e.create=r=>new _e({typeName:A.ZodNever,...Z(r)});class Tt extends L{_parse(e){if(this._getType(e)!==_.undefined){const a=this._getOrReturnCtx(e);return v(a,{code:f.invalid_type,expected:_.void,received:a.parsedType}),N}return X(e.data)}}Tt.create=r=>new Tt({typeName:A.ZodVoid,...Z(r)});class se extends L{_parse(e){const{ctx:t,status:a}=this._processInputParams(e),s=this._def;if(t.parsedType!==_.array)return v(t,{code:f.invalid_type,expected:_.array,received:t.parsedType}),N;if(s.exactLength!==null){const i=t.data.length>s.exactLength.value,o=t.data.length<s.exactLength.value;(i||o)&&(v(t,{code:i?f.too_big:f.too_small,minimum:o?s.exactLength.value:void 0,maximum:i?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),a.dirty())}if(s.minLength!==null&&t.data.length<s.minLength.value&&(v(t,{code:f.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),a.dirty()),s.maxLength!==null&&t.data.length>s.maxLength.value&&(v(t,{code:f.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),a.dirty()),t.common.async)return Promise.all([...t.data].map((i,o)=>s.type._parseAsync(new ce(t,i,t.path,o)))).then(i=>J.mergeArray(a,i));const n=[...t.data].map((i,o)=>s.type._parseSync(new ce(t,i,t.path,o)));return J.mergeArray(a,n)}get element(){return this._def.type}min(e,t){return new se({...this._def,minLength:{value:e,message:k.toString(t)}})}max(e,t){return new se({...this._def,maxLength:{value:e,message:k.toString(t)}})}length(e,t){return new se({...this._def,exactLength:{value:e,message:k.toString(t)}})}nonempty(e){return this.min(1,e)}}se.create=(r,e)=>new se({type:r,minLength:null,maxLength:null,exactLength:null,typeName:A.ZodArray,...Z(e)});function Le(r){if(r instanceof B){const e={};for(const t in r.shape){const a=r.shape[t];e[t]=de.create(Le(a))}return new B({...r._def,shape:()=>e})}else return r instanceof se?new se({...r._def,type:Le(r.element)}):r instanceof de?de.create(Le(r.unwrap())):r instanceof Ce?Ce.create(Le(r.unwrap())):r instanceof le?le.create(r.items.map(e=>Le(e))):r}class B extends L{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=M.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==_.object){const d=this._getOrReturnCtx(e);return v(d,{code:f.invalid_type,expected:_.object,received:d.parsedType}),N}const{status:a,ctx:s}=this._processInputParams(e),{shape:n,keys:i}=this._getCached(),o=[];if(!(this._def.catchall instanceof _e&&this._def.unknownKeys==="strip"))for(const d in s.data)i.includes(d)||o.push(d);const l=[];for(const d of i){const c=n[d],h=s.data[d];l.push({key:{status:"valid",value:d},value:c._parse(new ce(s,h,s.path,d)),alwaysSet:d in s.data})}if(this._def.catchall instanceof _e){const d=this._def.unknownKeys;if(d==="passthrough")for(const c of o)l.push({key:{status:"valid",value:c},value:{status:"valid",value:s.data[c]}});else if(d==="strict")o.length>0&&(v(s,{code:f.unrecognized_keys,keys:o}),a.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const c of o){const h=s.data[c];l.push({key:{status:"valid",value:c},value:d._parse(new ce(s,h,s.path,c)),alwaysSet:c in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const d=[];for(const c of l){const h=await c.key,p=await c.value;d.push({key:h,value:p,alwaysSet:c.alwaysSet})}return d}).then(d=>J.mergeObjectSync(a,d)):J.mergeObjectSync(a,l)}get shape(){return this._def.shape()}strict(e){return k.errToObj,new B({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,a)=>{var s,n,i,o;const l=(i=(n=(s=this._def).errorMap)===null||n===void 0?void 0:n.call(s,t,a).message)!==null&&i!==void 0?i:a.defaultError;return t.code==="unrecognized_keys"?{message:(o=k.errToObj(e).message)!==null&&o!==void 0?o:l}:{message:l}}}:{}})}strip(){return new B({...this._def,unknownKeys:"strip"})}passthrough(){return new B({...this._def,unknownKeys:"passthrough"})}extend(e){return new B({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new B({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:A.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new B({...this._def,catchall:e})}pick(e){const t={};return M.objectKeys(e).forEach(a=>{e[a]&&this.shape[a]&&(t[a]=this.shape[a])}),new B({...this._def,shape:()=>t})}omit(e){const t={};return M.objectKeys(this.shape).forEach(a=>{e[a]||(t[a]=this.shape[a])}),new B({...this._def,shape:()=>t})}deepPartial(){return Le(this)}partial(e){const t={};return M.objectKeys(this.shape).forEach(a=>{const s=this.shape[a];e&&!e[a]?t[a]=s:t[a]=s.optional()}),new B({...this._def,shape:()=>t})}required(e){const t={};return M.objectKeys(this.shape).forEach(a=>{if(e&&!e[a])t[a]=this.shape[a];else{let n=this.shape[a];for(;n instanceof de;)n=n._def.innerType;t[a]=n}}),new B({...this._def,shape:()=>t})}keyof(){return ma(M.objectKeys(this.shape))}}B.create=(r,e)=>new B({shape:()=>r,unknownKeys:"strip",catchall:_e.create(),typeName:A.ZodObject,...Z(e)});B.strictCreate=(r,e)=>new B({shape:()=>r,unknownKeys:"strict",catchall:_e.create(),typeName:A.ZodObject,...Z(e)});B.lazycreate=(r,e)=>new B({shape:r,unknownKeys:"strip",catchall:_e.create(),typeName:A.ZodObject,...Z(e)});class st extends L{_parse(e){const{ctx:t}=this._processInputParams(e),a=this._def.options;function s(n){for(const o of n)if(o.result.status==="valid")return o.result;for(const o of n)if(o.result.status==="dirty")return t.common.issues.push(...o.ctx.common.issues),o.result;const i=n.map(o=>new ee(o.ctx.common.issues));return v(t,{code:f.invalid_union,unionErrors:i}),N}if(t.common.async)return Promise.all(a.map(async n=>{const i={...t,common:{...t.common,issues:[]},parent:null};return{result:await n._parseAsync({data:t.data,path:t.path,parent:i}),ctx:i}})).then(s);{let n;const i=[];for(const l of a){const d={...t,common:{...t.common,issues:[]},parent:null},c=l._parseSync({data:t.data,path:t.path,parent:d});if(c.status==="valid")return c;c.status==="dirty"&&!n&&(n={result:c,ctx:d}),d.common.issues.length&&i.push(d.common.issues)}if(n)return t.common.issues.push(...n.ctx.common.issues),n.result;const o=i.map(l=>new ee(l));return v(t,{code:f.invalid_union,unionErrors:o}),N}}get options(){return this._def.options}}st.create=(r,e)=>new st({options:r,typeName:A.ZodUnion,...Z(e)});const pe=r=>r instanceof ot?pe(r.schema):r instanceof ne?pe(r.innerType()):r instanceof dt?[r.value]:r instanceof Te?r.options:r instanceof ct?M.objectValues(r.enum):r instanceof lt?pe(r._def.innerType):r instanceof rt?[void 0]:r instanceof at?[null]:r instanceof de?[void 0,...pe(r.unwrap())]:r instanceof Ce?[null,...pe(r.unwrap())]:r instanceof ir||r instanceof ft?pe(r.unwrap()):r instanceof ut?pe(r._def.innerType):[];class It extends L{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==_.object)return v(t,{code:f.invalid_type,expected:_.object,received:t.parsedType}),N;const a=this.discriminator,s=t.data[a],n=this.optionsMap.get(s);return n?t.common.async?n._parseAsync({data:t.data,path:t.path,parent:t}):n._parseSync({data:t.data,path:t.path,parent:t}):(v(t,{code:f.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[a]}),N)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,a){const s=new Map;for(const n of t){const i=pe(n.shape[e]);if(!i.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of i){if(s.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);s.set(o,n)}}return new It({typeName:A.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:s,...Z(a)})}}function tr(r,e){const t=me(r),a=me(e);if(r===e)return{valid:!0,data:r};if(t===_.object&&a===_.object){const s=M.objectKeys(e),n=M.objectKeys(r).filter(o=>s.indexOf(o)!==-1),i={...r,...e};for(const o of n){const l=tr(r[o],e[o]);if(!l.valid)return{valid:!1};i[o]=l.data}return{valid:!0,data:i}}else if(t===_.array&&a===_.array){if(r.length!==e.length)return{valid:!1};const s=[];for(let n=0;n<r.length;n++){const i=r[n],o=e[n],l=tr(i,o);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return t===_.date&&a===_.date&&+r==+e?{valid:!0,data:r}:{valid:!1}}class nt extends L{_parse(e){const{status:t,ctx:a}=this._processInputParams(e),s=(n,i)=>{if($t(n)||$t(i))return N;const o=tr(n.value,i.value);return o.valid?((er(n)||er(i))&&t.dirty(),{status:t.value,value:o.data}):(v(a,{code:f.invalid_intersection_types}),N)};return a.common.async?Promise.all([this._def.left._parseAsync({data:a.data,path:a.path,parent:a}),this._def.right._parseAsync({data:a.data,path:a.path,parent:a})]).then(([n,i])=>s(n,i)):s(this._def.left._parseSync({data:a.data,path:a.path,parent:a}),this._def.right._parseSync({data:a.data,path:a.path,parent:a}))}}nt.create=(r,e,t)=>new nt({left:r,right:e,typeName:A.ZodIntersection,...Z(t)});class le extends L{_parse(e){const{status:t,ctx:a}=this._processInputParams(e);if(a.parsedType!==_.array)return v(a,{code:f.invalid_type,expected:_.array,received:a.parsedType}),N;if(a.data.length<this._def.items.length)return v(a,{code:f.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),N;!this._def.rest&&a.data.length>this._def.items.length&&(v(a,{code:f.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const n=[...a.data].map((i,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new ce(a,i,a.path,o)):null}).filter(i=>!!i);return a.common.async?Promise.all(n).then(i=>J.mergeArray(t,i)):J.mergeArray(t,n)}get items(){return this._def.items}rest(e){return new le({...this._def,rest:e})}}le.create=(r,e)=>{if(!Array.isArray(r))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new le({items:r,typeName:A.ZodTuple,rest:null,...Z(e)})};class it extends L{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:a}=this._processInputParams(e);if(a.parsedType!==_.object)return v(a,{code:f.invalid_type,expected:_.object,received:a.parsedType}),N;const s=[],n=this._def.keyType,i=this._def.valueType;for(const o in a.data)s.push({key:n._parse(new ce(a,o,a.path,o)),value:i._parse(new ce(a,a.data[o],a.path,o)),alwaysSet:o in a.data});return a.common.async?J.mergeObjectAsync(t,s):J.mergeObjectSync(t,s)}get element(){return this._def.valueType}static create(e,t,a){return t instanceof L?new it({keyType:e,valueType:t,typeName:A.ZodRecord,...Z(a)}):new it({keyType:ae.create(),valueType:e,typeName:A.ZodRecord,...Z(t)})}}class Ct extends L{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:a}=this._processInputParams(e);if(a.parsedType!==_.map)return v(a,{code:f.invalid_type,expected:_.map,received:a.parsedType}),N;const s=this._def.keyType,n=this._def.valueType,i=[...a.data.entries()].map(([o,l],d)=>({key:s._parse(new ce(a,o,a.path,[d,"key"])),value:n._parse(new ce(a,l,a.path,[d,"value"]))}));if(a.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of i){const d=await l.key,c=await l.value;if(d.status==="aborted"||c.status==="aborted")return N;(d.status==="dirty"||c.status==="dirty")&&t.dirty(),o.set(d.value,c.value)}return{status:t.value,value:o}})}else{const o=new Map;for(const l of i){const d=l.key,c=l.value;if(d.status==="aborted"||c.status==="aborted")return N;(d.status==="dirty"||c.status==="dirty")&&t.dirty(),o.set(d.value,c.value)}return{status:t.value,value:o}}}}Ct.create=(r,e,t)=>new Ct({valueType:e,keyType:r,typeName:A.ZodMap,...Z(t)});class Re extends L{_parse(e){const{status:t,ctx:a}=this._processInputParams(e);if(a.parsedType!==_.set)return v(a,{code:f.invalid_type,expected:_.set,received:a.parsedType}),N;const s=this._def;s.minSize!==null&&a.data.size<s.minSize.value&&(v(a,{code:f.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),t.dirty()),s.maxSize!==null&&a.data.size>s.maxSize.value&&(v(a,{code:f.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),t.dirty());const n=this._def.valueType;function i(l){const d=new Set;for(const c of l){if(c.status==="aborted")return N;c.status==="dirty"&&t.dirty(),d.add(c.value)}return{status:t.value,value:d}}const o=[...a.data.values()].map((l,d)=>n._parse(new ce(a,l,a.path,d)));return a.common.async?Promise.all(o).then(l=>i(l)):i(o)}min(e,t){return new Re({...this._def,minSize:{value:e,message:k.toString(t)}})}max(e,t){return new Re({...this._def,maxSize:{value:e,message:k.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Re.create=(r,e)=>new Re({valueType:r,minSize:null,maxSize:null,typeName:A.ZodSet,...Z(e)});class Pe extends L{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==_.function)return v(t,{code:f.invalid_type,expected:_.function,received:t.parsedType}),N;function a(o,l){return kt({data:o,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,xt(),ze].filter(d=>!!d),issueData:{code:f.invalid_arguments,argumentsError:l}})}function s(o,l){return kt({data:o,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,xt(),ze].filter(d=>!!d),issueData:{code:f.invalid_return_type,returnTypeError:l}})}const n={errorMap:t.common.contextualErrorMap},i=t.data;if(this._def.returns instanceof Ue){const o=this;return X(async function(...l){const d=new ee([]),c=await o._def.args.parseAsync(l,n).catch(g=>{throw d.addIssue(a(l,g)),d}),h=await Reflect.apply(i,this,c);return await o._def.returns._def.type.parseAsync(h,n).catch(g=>{throw d.addIssue(s(h,g)),d})})}else{const o=this;return X(function(...l){const d=o._def.args.safeParse(l,n);if(!d.success)throw new ee([a(l,d.error)]);const c=Reflect.apply(i,this,d.data),h=o._def.returns.safeParse(c,n);if(!h.success)throw new ee([s(c,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Pe({...this._def,args:le.create(e).rest(Ne.create())})}returns(e){return new Pe({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,a){return new Pe({args:e||le.create([]).rest(Ne.create()),returns:t||Ne.create(),typeName:A.ZodFunction,...Z(a)})}}class ot extends L{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}ot.create=(r,e)=>new ot({getter:r,typeName:A.ZodLazy,...Z(e)});class dt extends L{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return v(t,{received:t.data,code:f.invalid_literal,expected:this._def.value}),N}return{status:"valid",value:e.data}}get value(){return this._def.value}}dt.create=(r,e)=>new dt({value:r,typeName:A.ZodLiteral,...Z(e)});function ma(r,e){return new Te({values:r,typeName:A.ZodEnum,...Z(e)})}class Te extends L{constructor(){super(...arguments),Ye.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),a=this._def.values;return v(t,{expected:M.joinValues(a),received:t.parsedType,code:f.invalid_type}),N}if(wt(this,Ye)||ua(this,Ye,new Set(this._def.values)),!wt(this,Ye).has(e.data)){const t=this._getOrReturnCtx(e),a=this._def.values;return v(t,{received:t.data,code:f.invalid_enum_value,options:a}),N}return X(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return Te.create(e,{...this._def,...t})}exclude(e,t=this._def){return Te.create(this.options.filter(a=>!e.includes(a)),{...this._def,...t})}}Ye=new WeakMap;Te.create=ma;class ct extends L{constructor(){super(...arguments),Je.set(this,void 0)}_parse(e){const t=M.getValidEnumValues(this._def.values),a=this._getOrReturnCtx(e);if(a.parsedType!==_.string&&a.parsedType!==_.number){const s=M.objectValues(t);return v(a,{expected:M.joinValues(s),received:a.parsedType,code:f.invalid_type}),N}if(wt(this,Je)||ua(this,Je,new Set(M.getValidEnumValues(this._def.values))),!wt(this,Je).has(e.data)){const s=M.objectValues(t);return v(a,{received:a.data,code:f.invalid_enum_value,options:s}),N}return X(e.data)}get enum(){return this._def.values}}Je=new WeakMap;ct.create=(r,e)=>new ct({values:r,typeName:A.ZodNativeEnum,...Z(e)});class Ue extends L{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==_.promise&&t.common.async===!1)return v(t,{code:f.invalid_type,expected:_.promise,received:t.parsedType}),N;const a=t.parsedType===_.promise?t.data:Promise.resolve(t.data);return X(a.then(s=>this._def.type.parseAsync(s,{path:t.path,errorMap:t.common.contextualErrorMap})))}}Ue.create=(r,e)=>new Ue({type:r,typeName:A.ZodPromise,...Z(e)});class ne extends L{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===A.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:a}=this._processInputParams(e),s=this._def.effect||null,n={addIssue:i=>{v(a,i),i.fatal?t.abort():t.dirty()},get path(){return a.path}};if(n.addIssue=n.addIssue.bind(n),s.type==="preprocess"){const i=s.transform(a.data,n);if(a.common.async)return Promise.resolve(i).then(async o=>{if(t.value==="aborted")return N;const l=await this._def.schema._parseAsync({data:o,path:a.path,parent:a});return l.status==="aborted"?N:l.status==="dirty"||t.value==="dirty"?Me(l.value):l});{if(t.value==="aborted")return N;const o=this._def.schema._parseSync({data:i,path:a.path,parent:a});return o.status==="aborted"?N:o.status==="dirty"||t.value==="dirty"?Me(o.value):o}}if(s.type==="refinement"){const i=o=>{const l=s.refinement(o,n);if(a.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(a.common.async===!1){const o=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});return o.status==="aborted"?N:(o.status==="dirty"&&t.dirty(),i(o.value),{status:t.value,value:o.value})}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(o=>o.status==="aborted"?N:(o.status==="dirty"&&t.dirty(),i(o.value).then(()=>({status:t.value,value:o.value}))))}if(s.type==="transform")if(a.common.async===!1){const i=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});if(!Ie(i))return i;const o=s.transform(i.value,n);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:o}}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(i=>Ie(i)?Promise.resolve(s.transform(i.value,n)).then(o=>({status:t.value,value:o})):i);M.assertNever(s)}}ne.create=(r,e,t)=>new ne({schema:r,typeName:A.ZodEffects,effect:e,...Z(t)});ne.createWithPreprocess=(r,e,t)=>new ne({schema:e,effect:{type:"preprocess",transform:r},typeName:A.ZodEffects,...Z(t)});class de extends L{_parse(e){return this._getType(e)===_.undefined?X(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}de.create=(r,e)=>new de({innerType:r,typeName:A.ZodOptional,...Z(e)});class Ce extends L{_parse(e){return this._getType(e)===_.null?X(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ce.create=(r,e)=>new Ce({innerType:r,typeName:A.ZodNullable,...Z(e)});class lt extends L{_parse(e){const{ctx:t}=this._processInputParams(e);let a=t.data;return t.parsedType===_.undefined&&(a=this._def.defaultValue()),this._def.innerType._parse({data:a,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}lt.create=(r,e)=>new lt({innerType:r,typeName:A.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Z(e)});class ut extends L{_parse(e){const{ctx:t}=this._processInputParams(e),a={...t,common:{...t.common,issues:[]}},s=this._def.innerType._parse({data:a.data,path:a.path,parent:{...a}});return et(s)?s.then(n=>({status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new ee(a.common.issues)},input:a.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ee(a.common.issues)},input:a.data})}}removeCatch(){return this._def.innerType}}ut.create=(r,e)=>new ut({innerType:r,typeName:A.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Z(e)});class Et extends L{_parse(e){if(this._getType(e)!==_.nan){const a=this._getOrReturnCtx(e);return v(a,{code:f.invalid_type,expected:_.nan,received:a.parsedType}),N}return{status:"valid",value:e.data}}}Et.create=r=>new Et({typeName:A.ZodNaN,...Z(r)});const On=Symbol("zod_brand");class ir extends L{_parse(e){const{ctx:t}=this._processInputParams(e),a=t.data;return this._def.type._parse({data:a,path:t.path,parent:t})}unwrap(){return this._def.type}}class ht extends L{_parse(e){const{status:t,ctx:a}=this._processInputParams(e);if(a.common.async)return(async()=>{const n=await this._def.in._parseAsync({data:a.data,path:a.path,parent:a});return n.status==="aborted"?N:n.status==="dirty"?(t.dirty(),Me(n.value)):this._def.out._parseAsync({data:n.value,path:a.path,parent:a})})();{const s=this._def.in._parseSync({data:a.data,path:a.path,parent:a});return s.status==="aborted"?N:s.status==="dirty"?(t.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:a.path,parent:a})}}static create(e,t){return new ht({in:e,out:t,typeName:A.ZodPipeline})}}class ft extends L{_parse(e){const t=this._def.innerType._parse(e),a=s=>(Ie(s)&&(s.value=Object.freeze(s.value)),s);return et(t)?t.then(s=>a(s)):a(t)}unwrap(){return this._def.innerType}}ft.create=(r,e)=>new ft({innerType:r,typeName:A.ZodReadonly,...Z(e)});function zr(r,e){const t=typeof r=="function"?r(e):typeof r=="string"?{message:r}:r;return typeof t=="string"?{message:t}:t}function va(r,e={},t){return r?Fe.create().superRefine((a,s)=>{var n,i;const o=r(a);if(o instanceof Promise)return o.then(l=>{var d,c;if(!l){const h=zr(e,a),p=(c=(d=h.fatal)!==null&&d!==void 0?d:t)!==null&&c!==void 0?c:!0;s.addIssue({code:"custom",...h,fatal:p})}});if(!o){const l=zr(e,a),d=(i=(n=l.fatal)!==null&&n!==void 0?n:t)!==null&&i!==void 0?i:!0;s.addIssue({code:"custom",...l,fatal:d})}}):Fe.create()}const Rn={object:B.lazycreate};var A;(function(r){r.ZodString="ZodString",r.ZodNumber="ZodNumber",r.ZodNaN="ZodNaN",r.ZodBigInt="ZodBigInt",r.ZodBoolean="ZodBoolean",r.ZodDate="ZodDate",r.ZodSymbol="ZodSymbol",r.ZodUndefined="ZodUndefined",r.ZodNull="ZodNull",r.ZodAny="ZodAny",r.ZodUnknown="ZodUnknown",r.ZodNever="ZodNever",r.ZodVoid="ZodVoid",r.ZodArray="ZodArray",r.ZodObject="ZodObject",r.ZodUnion="ZodUnion",r.ZodDiscriminatedUnion="ZodDiscriminatedUnion",r.ZodIntersection="ZodIntersection",r.ZodTuple="ZodTuple",r.ZodRecord="ZodRecord",r.ZodMap="ZodMap",r.ZodSet="ZodSet",r.ZodFunction="ZodFunction",r.ZodLazy="ZodLazy",r.ZodLiteral="ZodLiteral",r.ZodEnum="ZodEnum",r.ZodEffects="ZodEffects",r.ZodNativeEnum="ZodNativeEnum",r.ZodOptional="ZodOptional",r.ZodNullable="ZodNullable",r.ZodDefault="ZodDefault",r.ZodCatch="ZodCatch",r.ZodPromise="ZodPromise",r.ZodBranded="ZodBranded",r.ZodPipeline="ZodPipeline",r.ZodReadonly="ZodReadonly"})(A||(A={}));const Zn=(r,e={message:`Input not instance of ${r.name}`})=>va(t=>t instanceof r,e),_a=ae.create,ga=we.create,jn=Et.create,Ln=Se.create,ya=tt.create,Mn=Oe.create,Vn=St.create,Pn=rt.create,Dn=at.create,zn=Fe.create,Fn=Ne.create,Un=_e.create,Bn=Tt.create,Hn=se.create,qn=B.create,Wn=B.strictCreate,Gn=st.create,Kn=It.create,Yn=nt.create,Jn=le.create,Xn=it.create,Qn=Ct.create,$n=Re.create,ei=Pe.create,ti=ot.create,ri=dt.create,ai=Te.create,si=ct.create,ni=Ue.create,Fr=ne.create,ii=de.create,oi=Ce.create,di=ne.createWithPreprocess,ci=ht.create,li=()=>_a().optional(),ui=()=>ga().optional(),fi=()=>ya().optional(),hi={string:r=>ae.create({...r,coerce:!0}),number:r=>we.create({...r,coerce:!0}),boolean:r=>tt.create({...r,coerce:!0}),bigint:r=>Se.create({...r,coerce:!0}),date:r=>Oe.create({...r,coerce:!0})},pi=N;var $=Object.freeze({__proto__:null,defaultErrorMap:ze,setErrorMap:dn,getErrorMap:xt,makeIssue:kt,EMPTY_PATH:cn,addIssueToContext:v,ParseStatus:J,INVALID:N,DIRTY:Me,OK:X,isAborted:$t,isDirty:er,isValid:Ie,isAsync:et,get util(){return M},get objectUtil(){return Qt},ZodParsedType:_,getParsedType:me,ZodType:L,datetimeRegex:pa,ZodString:ae,ZodNumber:we,ZodBigInt:Se,ZodBoolean:tt,ZodDate:Oe,ZodSymbol:St,ZodUndefined:rt,ZodNull:at,ZodAny:Fe,ZodUnknown:Ne,ZodNever:_e,ZodVoid:Tt,ZodArray:se,ZodObject:B,ZodUnion:st,ZodDiscriminatedUnion:It,ZodIntersection:nt,ZodTuple:le,ZodRecord:it,ZodMap:Ct,ZodSet:Re,ZodFunction:Pe,ZodLazy:ot,ZodLiteral:dt,ZodEnum:Te,ZodNativeEnum:ct,ZodPromise:Ue,ZodEffects:ne,ZodTransformer:ne,ZodOptional:de,ZodNullable:Ce,ZodDefault:lt,ZodCatch:ut,ZodNaN:Et,BRAND:On,ZodBranded:ir,ZodPipeline:ht,ZodReadonly:ft,custom:va,Schema:L,ZodSchema:L,late:Rn,get ZodFirstPartyTypeKind(){return A},coerce:hi,any:zn,array:Hn,bigint:Ln,boolean:ya,date:Mn,discriminatedUnion:Kn,effect:Fr,enum:ai,function:ei,instanceof:Zn,intersection:Yn,lazy:ti,literal:ri,map:Qn,nan:jn,nativeEnum:si,never:Un,null:Dn,nullable:oi,number:ga,object:qn,oboolean:fi,onumber:ui,optional:ii,ostring:li,pipeline:ci,preprocess:di,promise:ni,record:Xn,set:$n,strictObject:Wn,string:_a,symbol:Vn,transformer:Fr,tuple:Jn,undefined:Pn,union:Gn,unknown:Fn,void:Bn,NEVER:pi,ZodIssueCode:f,quotelessJson:on,ZodError:ee}),mi=H("<p>No-op result</p>");function Ot(r,e){var t=mi();U(r,t)}const vi={name:"Crash",schema:$.object({gamehash:$.string()}),controls:[{id:"gamehash",name:"gamehash",label:"Game Hash",type:"text",required:!0},{id:"blockhash",name:"blockhash",label:"Block Hash",type:"text",disabled:!0,syncToUrl:!1,attrs:{value:"0000000000000000001b34dc6a1e86083f95500b096231436e9b25cbdd0075c4"}}],ResultComponent:Ot};function _i(r,e=0){return(r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3])>>>0}function Yt(r,e=new Uint8Array(4),t=0){return e[t+0]=r>>>24,e[t+1]=r>>>16,e[t+2]=r>>>8,e[t+3]=r>>>0,e}function Xe(r){for(let e=0;e<r.length;e++)r[e]=0;return r}const gi=32,yi=64;class ba{constructor(){K(this,"digestLength",gi);K(this,"blockSize",yi);K(this,"_state",new Int32Array(8));K(this,"_temp",new Int32Array(64));K(this,"_buffer",new Uint8Array(128));K(this,"_bufferLength",0);K(this,"_bytesHashed",0);K(this,"_finished",!1);this.reset()}_initState(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225}reset(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this}clean(){Xe(this._buffer),Xe(this._temp),this.reset()}update(e,t=e.length){if(this._finished)throw new Error("SHA256: can't update because hash was finished.");let a=0;if(this._bytesHashed+=t,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&t>0;)this._buffer[this._bufferLength++]=e[a++],t--;this._bufferLength===this.blockSize&&(Jt(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(t>=this.blockSize&&(a=Jt(this._temp,this._state,e,a,t),t%=this.blockSize);t>0;)this._buffer[this._bufferLength++]=e[a++],t--;return this}finish(e){if(!this._finished){const t=this._bytesHashed,a=this._bufferLength,s=t/536870912|0,n=t<<3,i=t%64<56?64:128;this._buffer[a]=128;for(let o=a+1;o<i-8;o++)this._buffer[o]=0;Yt(s,this._buffer,i-8),Yt(n,this._buffer,i-4),Jt(this._temp,this._state,this._buffer,0,i),this._finished=!0}for(let t=0;t<this.digestLength/4;t++)Yt(this._state[t],e,t*4);return this}digest(){const e=new Uint8Array(this.digestLength);return this.finish(e),e}saveState(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}}restoreState(e){return this._state.set(e.state),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this}cleanSavedState(e){Xe(e.state),e.buffer&&Xe(e.buffer),e.bufferLength=0,e.bytesHashed=0}}const bi=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function Jt(r,e,t,a,s){for(;s>=64;){let n=e[0],i=e[1],o=e[2],l=e[3],d=e[4],c=e[5],h=e[6],p=e[7];for(let g=0;g<16;g++){let m=a+g*4;r[g]=_i(t,m)}for(let g=16;g<64;g++){let m=r[g-2],w=(m>>>17|m<<15)^(m>>>19|m<<13)^m>>>10;m=r[g-15];let C=(m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3;r[g]=(w+r[g-7]|0)+(C+r[g-16]|0)}for(let g=0;g<64;g++){let m=(((d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7))+(d&c^~d&h)|0)+(p+(bi[g]+r[g]|0)|0)|0,w=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&i^n&o^i&o)|0;p=h,h=c,c=d,d=l+m|0,l=o,o=i,i=n,n=m+w|0}e[0]+=n,e[1]+=i,e[2]+=o,e[3]+=l,e[4]+=d,e[5]+=c,e[6]+=h,e[7]+=p,a+=64,s-=64}return a}function oe(r){return typeof r.saveState<"u"&&typeof r.restoreState<"u"&&typeof r.cleanSavedState<"u"}class xi{constructor(e,t){K(this,"blockSize");K(this,"digestLength");K(this,"_inner");K(this,"_outer");K(this,"_finished",!1);K(this,"_innerKeyedState");K(this,"_outerKeyedState");this._inner=new e,this._outer=new e,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;const a=new Uint8Array(this.blockSize);t.length>this.blockSize?this._inner.update(t).finish(a).clean():a.set(t);for(let s=0;s<a.length;s++)a[s]^=54;this._inner.update(a);for(let s=0;s<a.length;s++)a[s]^=106;this._outer.update(a),oe(this._inner)&&oe(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),Xe(a)}reset(){if(!oe(this._inner)||!oe(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this}clean(){oe(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),oe(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()}update(e){return this._inner.update(e),this}finish(e){return this._finished?(this._outer.finish(e),this):(this._inner.finish(e),this._outer.update(e.subarray(0,this.digestLength)).finish(e),this._finished=!0,this)}digest(){const e=new Uint8Array(this.digestLength);return this.finish(e),e}saveState(){if(!oe(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()}restoreState(e){if(!oe(this._inner)||!oe(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(e),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this}cleanSavedState(e){if(!oe(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(e)}}function xa(r,e,t){const a=new xi(r,e);a.update(t);const s=a.digest();return a.clean(),s}const Ur="utf8: invalid string";function At(r){const e=new Uint8Array(ki(r));let t=0;for(let a=0;a<r.length;a++){let s=r.charCodeAt(a);s>=55296&&s<=56319&&(s=(s-55296<<10)+(r.charCodeAt(++a)-56320)+65536),s<128?e[t++]=s:s<2048?(e[t++]=192|s>>6,e[t++]=128|s&63):s<65536?(e[t++]=224|s>>12,e[t++]=128|s>>6&63,e[t++]=128|s&63):(e[t++]=240|s>>18,e[t++]=128|s>>12&63,e[t++]=128|s>>6&63,e[t++]=128|s&63)}return e}function ki(r){let e=0;for(let t=0;t<r.length;t++){let a=r.charCodeAt(t);if(a>=55296&&a<=56319){if(t===r.length-1)throw new Error(Ur);t++;const s=r.charCodeAt(t);if(s<56320||s>57343)throw new Error(Ur);a=(a-55296<<10)+(s-56320)+65536}a<128?e+=1:a<2048?e+=2:a<65536?e+=3:e+=4}return e}function*wi(r){const{serverSeed:e,clientSeed:t,nonce:a,cursor:s=0}=r;let n=Math.floor(s/32),i=s;for(i-=n*32;;){const o=xa(ba,At(e),At(`${t}:${a}:${n}`));for(;i<32;)yield Number(o[i]),i+=1;i=0,n+=1}}function*ka(r){const{serverSeed:e,clientSeed:t,nonce:a,cursor:s=0}=r,n=wi({serverSeed:e,clientSeed:t,nonce:a,cursor:s});for(;;){let i=0;for(let o=0;o<4;o++)i+=n.next().value/256**(o+1);yield i}}function Si(r,e){let t;return a=>{clearTimeout(t),t=setTimeout(()=>r(a),e)}}function wa(r,e,t){let a=vt(Qr({debouncing:!0,value:null}));const s=Si(n=>be(a,{debouncing:!1,value:e(n)},!0),t);return $r(()=>{Nt(()=>u(a).debouncing=!0),s(r())}),()=>u(a)}var Ti=H('<p class="text-center text-base"><span class="text-sm text-gray-500 italic dark:text-gray-400">Computing...</span></p>'),Ci=H('<p data-testid="dice-result" class="text-center text-base">you rolled a <span class="text-xl text-blue-500"> </span></p>');function Ei(r,e){Be(e,!0);const t=q(()=>({clientSeed:e.formValues.clientseed,serverSeed:e.formValues.serverseed,nonce:e.formValues.nonce})),a=q(wa(()=>u(t),l=>{const d=ka(l);return Math.floor(d.next().value*10001)/100},350));var s=Br(),n=De(s);{var i=l=>{var d=Ti();U(l,d)},o=l=>{var d=Ci(),c=O(S(d)),h=S(c,!0);x(c),x(d),Y(p=>P(h,p),[()=>u(a).value.toFixed(2)]),U(l,d)};ke(n,l=>{u(a).debouncing?l(i):l(o,!1)})}U(r,s),He()}function Ai(r){let e=r+48;return e+=9-r>>>8&7,String.fromCharCode(e)}function Ni(r){let e=r+48;return e+=9-r>>>8&39,String.fromCharCode(e)}function Ii(r,e=!1){const t=e?Ni:Ai;let a="";for(let s=0;s<r.length;s++)a+=t(r[s]>>>4),a+=t(r[s]&15);return a}const Oi=r=>r;function Ri(r,{delay:e=0,duration:t=400,easing:a=Oi}={}){const s=+getComputedStyle(r).opacity;return{delay:e,duration:t,easing:a,css:n=>`opacity: ${n*s}`}}var Zi=H('<td class="px-6 py-4 font-mono"> </td>'),ji=H('<td class="px-6 py-4 font-mono"> </td>'),Li=H('<tr class="border-b border-gray-300 dark:border-gray-700"><td class="px-4"></td><td class="px-2 py-4"> </td><td class="px-6 py-4"> </td></tr>'),Mi=H('<div><div class="text-center"><p class="mb-2 text-xl"> </p> <p class="text-base">Extract float based on client seed, server seed, and nonce</p> <p class="mb-7 text-sm text-gray-500 dark:text-gray-400">Refer to scripts on the <a class="text-blue-500 hover:underline" target="_blank" href="https://stake.com/provably-fair/implementation">implementation</a> and <a class="text-blue-500 hover:underline" target="_blank" href="https://stake.com/provably-fair/conversions">conversion</a> pages</p></div> <div class="bg-gray-200 p-5 font-mono text-xs text-gray-500 dark:bg-gray-800 dark:text-gray-400"><p> </p> <p></p> <p></p> <p class="mt-4">round</p> <p>= <span class="font-bold text-blue-500">&lbrace;resultIndex&rbrace;</span> / <span class="font-bold text-blue-500">&lbrace;hexCharsForFloat&rbrace;</span></p> <p>= <span class="font-bold text-blue-500"> </span> / <span class="font-bold text-blue-500"></span></p> <p> </p> <p class="mt-4">cursor</p> <p>= (<span class="font-bold text-blue-500">&lbrace;resultIndex&rbrace;</span> * <span class="font-bold text-blue-500">&lbrace;hexCharsForFloat&rbrace;</span>) % <span class="font-bold text-blue-500">&lbrace;hexCharsInHmac&rbrace;</span></p> <p>= (<span class="font-bold text-blue-500"> </span> * <span class="font-bold text-blue-500"></span>) % <span class="font-bold text-blue-500"></span></p> <p> </p> <p class="mt-4">hmac</p> <p>= hmac_sha256(</p> <p class="indent-8">key &nbsp;= <span class="font-bold text-blue-500">&lbrace;serverseed&rbrace;</span></p> <p class="indent-8">data = <span class="font-bold text-blue-500">&lbrace;clientseed&rbrace;:&lbrace;nonce&rbrace;:&lbrace;round&rbrace;</span></p> <p class="indent-4">)</p> <p>= hmac_sha256(</p> <p class="truncate indent-8">key &nbsp;= <span class="font-bold text-blue-500"> </span></p> <p class="truncate indent-8">data = <span class="font-bold text-blue-500"> </span></p> <p class="indent-4">)</p> <p class="break-all">= <span class="text-xs"> </span></p> <p class="mt-4">hexes</p> <p>= substring(</p> <p class="indent-8">value = <span class="font-bold text-blue-500">&lbrace;hmac&rbrace;</span></p> <p class="indent-8">start = <span class="font-bold text-blue-500">&lbrace;cursor&rbrace;</span></p> <p class="indent-8">take &nbsp;= <span class="font-bold text-blue-500">&lbrace;hexCharsForFloat&rbrace;</span></p> <p class="indent-4">)</p> <p>= substring(</p> <p class="truncate indent-8">value = <span class="font-bold text-blue-500"> </span></p> <p class="indent-8">start = <span class="font-bold text-blue-500"> </span></p> <p class="indent-8">take &nbsp;= <span class="font-bold text-blue-500"></span></p> <p class="indent-4">)</p> <p class="break-all"> <span class="text-base font-bold text-blue-500"> </span><span class="text-xs text-gray-400"> </span></p></div> <div class="relative mt-4 overflow-x-auto"><table class="w-full bg-gray-200 text-left text-sm text-gray-500 rtl:text-right dark:bg-gray-800 dark:text-gray-400"><tbody><tr class="border-b border-gray-300 dark:border-gray-700"><th scope="row" class="px-6 py-4 font-medium whitespace-nowrap text-gray-900 dark:text-white">hex</th><!></tr><tr class="border-none border-gray-200 dark:border-gray-700"><th scope="row" class="px-6 py-4 font-medium whitespace-nowrap text-gray-900 dark:text-white">byte</th><!></tr></tbody></table></div> <div class="relative mt-4 overflow-x-auto font-mono"><table class="w-full bg-gray-200 text-left text-sm text-gray-500 rtl:text-right dark:bg-gray-800 dark:text-gray-400"><tbody><!><tr class="border-none border-gray-200 dark:border-gray-700"><td class="px-4">=</td><td class="px-2 py-4"> </td><td></td></tr></tbody></table></div></div>');function Vi(r,e){Be(e,!0);const t=64,a=8,s=q(()=>Math.floor(e.resultIndex/a)),n=q(()=>e.resultIndex*a%t),i=q(()=>Ii(xa(ba,At(e.seed.serverSeed),At(`${e.seed.clientSeed}:${e.seed.nonce}:${u(s)}`)))),o=q(()=>u(i).substring(u(n),u(n)+a).match(/.{1,2}/g)),l=q(()=>{var h;return(h=u(o))==null?void 0:h.map(p=>parseInt(p,16))});var d=Br(),c=De(d);Es(c,()=>u(n),h=>{var p=Mi(),g=S(p),m=S(g),w=S(m);x(m),Or(4),x(g);var C=O(g,2),R=S(C),z=S(R);x(R);var I=O(R,2);I.textContent="hexCharsInHmac = 64";var b=O(I,2);b.textContent="hexCharsForFloat = 8";var E=O(b,6),W=O(S(E)),D=S(W,!0);x(W);var y=O(W,2);y.textContent=8,x(E);var j=O(E,2),T=S(j);x(j);var V=O(j,6),F=O(S(V)),ge=S(F,!0);x(F);var Q=O(F,2);Q.textContent=8;var ue=O(Q,2);ue.textContent=64,x(V);var re=O(V,2),Ze=S(re);x(re);var ie=O(re,14),pt=O(S(ie)),Rt=S(pt,!0);x(pt),x(ie);var qe=O(ie,2),cr=O(S(qe)),Sa=S(cr);x(cr),x(qe);var Zt=O(qe,4),lr=O(S(Zt)),Ta=S(lr,!0);x(lr),x(Zt);var jt=O(Zt,16),ur=O(S(jt)),Ca=S(ur,!0);x(ur),x(jt);var Lt=O(jt,2),fr=O(S(Lt)),Ea=S(fr,!0);x(fr),x(Lt);var Mt=O(Lt,2),Aa=O(S(Mt));Aa.textContent=8,x(Mt);var hr=O(Mt,4),pr=S(hr),Vt=O(pr),Na=S(Vt,!0);x(Vt);var mr=O(Vt),Ia=S(mr,!0);x(mr),x(hr),x(C);var Pt=O(C,2),vr=S(Pt),_r=S(vr),Dt=S(_r),Oa=O(S(Dt));Ve(Oa,17,()=>u(o),Bt,(Ee,ye)=>{var te=Zi(),fe=S(te,!0);x(te),Y(()=>P(fe,u(ye))),U(Ee,te)}),x(Dt);var gr=O(Dt),Ra=O(S(gr));Ve(Ra,17,()=>u(l),Bt,(Ee,ye)=>{var te=ji(),fe=S(te,!0);x(te),Y(()=>P(fe,u(ye))),U(Ee,te)}),x(gr),x(_r),x(vr),x(Pt);var yr=O(Pt,2),br=S(yr),xr=S(br),kr=S(xr);Ve(kr,17,()=>u(l),Bt,(Ee,ye,te)=>{var fe=Li(),zt=O(S(fe)),ja=S(zt,!0);x(zt);var Tr=O(zt),La=S(Tr);x(Tr),x(fe),Y((Ma,Va)=>{P(ja,Ma),P(La,`(${Va??""} / (256 ^ ${te+1}))`)},[()=>(u(ye)/256**(te+1)).toFixed(12),()=>(""+u(ye)).padStart(3,"0")]),U(Ee,fe)});var wr=O(kr),Sr=O(S(wr)),Za=S(Sr,!0);x(Sr),Or(),x(wr),x(xr),x(br),x(yr),x(p),Y((Ee,ye,te,fe)=>{P(w,`Step ${e.stepNumber??""}`),P(z,`resultIndex = ${e.resultIndex??""}`),P(D,e.resultIndex),P(T,`= ${u(s)??""}`),P(ge,e.resultIndex),P(Ze,`= ${u(n)??""}`),P(Rt,e.seed.serverSeed),P(Sa,`${e.seed.clientSeed??""}:${e.seed.nonce??""}:${u(s)??""}`),P(Ta,u(i)),P(Ca,u(i)),P(Ea,u(n)),P(pr,`= ${Ee??""}`),P(Na,ye),P(Ia,te),P(Za,fe)},[()=>u(i).substring(0,u(n)),()=>u(i).substring(u(n),u(n)+a),()=>u(i).substring(u(n)+a),()=>e.float.toFixed(12)]),zs(3,p,()=>Ri,()=>({duration:500})),U(h,p)}),U(r,d),He()}var Pi=H('<div class="mt-5 text-center"><p class="mb-2 text-xl"> </p> <p class="text-base">Transform float into roll number</p> <p class="mb-5 text-sm text-gray-500 dark:text-gray-400">formula taken from <span class="font-bold">Dice Roll</span> section on the <a class="text-blue-500 hover:underline" target="_blank" href="https://stake.com/provably-fair/game-events">game events</a> page</p> <pre class="text-sm whitespace-pre-wrap text-gray-500 dark:text-gray-400" data-testid="dice-formula"> </pre></div>');function Di(r,e){Be(e,!0);const t=q(()=>Math.floor(e.float*10001)/100),a=q(()=>`floor(${e.float.toFixed(12)} * 10001) / 100 = ${u(t).toFixed(2)}`);var s=Pi(),n=S(s),i=S(n);x(n);var o=O(n,6),l=S(o);x(o),x(s),Y(()=>{P(i,`Step ${e.stepNumber??""}`),P(l,`    ${u(a)??""}
  `)}),U(r,s),He()}var zi=H('<p class="text-center text-base"><span class="text-sm text-gray-500 italic dark:text-gray-400">Computing...</span></p>'),Fi=H("<!> <!>",1),Ui=H('<div class="mt-5 border-0 text-center dark:text-white"><div id="step-content" class="pb-4 text-left text-sm dark:bg-gray-900 dark:text-white"><!></div></div>');function Bi(r,e){Be(e,!0);let t=q(()=>({clientSeed:e.formValues.clientseed,serverSeed:e.formValues.serverseed,nonce:e.formValues.nonce}));const a=q(wa(()=>u(t),d=>ka(d).next().value,350));var s=Ui(),n=S(s),i=S(n);{var o=d=>{var c=zi();U(d,c)},l=d=>{var c=Fi(),h=De(c);Vi(h,{stepNumber:1,resultIndex:0,get seed(){return u(t)},get float(){return u(a).value}});var p=O(h,2);Di(p,{stepNumber:2,get float(){return u(a).value}}),U(d,c)};ke(i,d=>{u(a).debouncing?d(o):d(l,!1)})}x(n),x(s),U(r,s),He()}const or=$.object({clientseed:$.string(),serverseed:$.string(),nonce:$.number().nonnegative()}),dr=[{id:"clientseed",name:"clientseed",label:"Client Seed",type:"text",required:!0},{id:"serverseed",name:"serverseed",label:"Server Seed",type:"text",required:!0},{id:"nonce",name:"nonce",label:"Nonce",type:"number",required:!0,attrs:{min:0}}],Hi={name:"Dice",schema:or,controls:dr,ResultComponent:Ei,ExplanationComponent:Bi},qi={name:"Plinko",schema:or.extend({risk:$.enum(["low","medium","high"]),rows:$.number().min(8).max(16)}),controls:[...dr,{id:"risk",name:"risk",label:"Risk",type:"select",options:["low","medium","high"]},{id:"rows",name:"rows",label:"Rows",type:"number",required:!0,default:8,attrs:{min:8,max:16}}],ResultComponent:Ot},Wi={name:"Slide",schema:$.object({slidehash:$.string(),blockhash:$.string()}),controls:[{id:"slidehash",name:"slidehash",label:"Slide Hash",type:"text",required:!0},{id:"blockhash",name:"blockhash",label:"Block Hash",type:"select",options:["0000000000000000000b20f796f5421cac95c4efb06c6bbf6408d6f9b5d7b9dc","00000000000000000000644330e1340fc6e894a95c37060bdd180ed11d068944"]}],ResultComponent:Ot},Gi={name:"Wheel",schema:or.extend({risk:$.enum(["low","medium","high"]),segments:$.number().min(10).max(50).step(10)}),controls:[...dr,{id:"risk",name:"risk",label:"Risk",type:"select",options:["low","medium","high"]},{id:"segments",name:"segments",label:"Segments",type:"number",required:!0,default:10,attrs:{min:10,max:50,step:10}}],ResultComponent:Ot};function to(r){nn(r,{games:{dice:Hi,plinko:qi,slide:Wi,crash:vi,wheel:Gi}})}export{to as component};
